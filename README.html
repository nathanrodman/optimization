<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><!-- InstanceBegin template="/Templates/asgmt.dwt" codeOutsideHTMLIsLocked="false" -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<!-- template parameters -->
<!-- InstanceParam name="course" type="text" value="CS201" -->
<!-- InstanceParam name="asgmtVersion" type="text" value="4" -->
<title>CS201 Assignment 4</title>
<style type="text/css">
<!--
.code {
	font-family: Consolas, "Courier New", Courier, monospace;
	font-size: 14px;
}
body {
	font-family: Cambria, Georgia, "Times New Roman", Times, serif;
	font-size: 14px;
}
.header {
	font-family: Cambria, Georgia, "Times New Roman", Times, serif;
	font-size: 22px;
	font-weight: normal;
	text-decoration: underline;
}
.title {
	font-size: 24px;
	font-weight: bold;
	text-decoration: underline;
	font-family: Cambria, Georgia, "Times New Roman", Times, serif;
}
table caption {
	font-size: 18px;
	text-align: left;
	line-height: 44px;
	vertical-align: top;
	text-decoration: underline;
}
th {
	font-weight: normal;
	text-align: left;
	text-decoration: underline;
}
-->
</style>
</head>
<body>
<p class="title">CS201 Assignment 4 Instructions</p>
<!-- InstanceBeginEditable name="description" -->
<p>In this assignment you will optimize code and get it to run faster using techniques you have learned in this course.</p>
<p>You will measure code execution time using the Linux<span class="code1"> <a href="http://linux.die.net/man/1/time" target="_blank">time(1)</a></span> command. This command prints out three numbers:</p>
<ul>
  <li><strong>real</strong>: total elapsed time</li>
  <li><strong>user</strong>: total cpu usage of the application code</li>
  <li><strong>sys</strong>: total cpu usage of the application&rsquo;s operating system calls </li>
</ul>
<p>For the purposes of this assignment, you will use the <strong>user</strong> statistic returned by <span class="code1" style="font-weight: bold"> time(1)</span>.</p>
<p>You should do this work on <strong>syccuxfs01.pcc.edu</strong>. This is where I will be testing your code, and execution times on syccuxfs01.pcc.edu are the standard that your code will be judged by. The fact that your code may have met the timing standard on some other machine does not count, and will not help you. </p>
<p>The code for this assignment has an outer loop and an inner loop. The inner loop computes the sum of the numbers in an array (note that the array is initialized by<span class="code1"> calloc()</span> to all zeroes). The outer loop repeats the inner loop&rsquo;s computation the specified number of times. You should maintain this loop structure as you optimize this code. In particular:</p>
<ul>
  <li>you should not alter the outer loop</li>
  <li>you should not change the size of the array or its data type</li>
  <li>the array should remain initialized to all zeroes &ndash; do not change any element of the array </li>
  <li>your inner loop should still compute the sum of all the elements of the array</li>
  <li>your code should be no longer than 50 lines </li>
</ul>
<p>The basic idea is to change the contents of the inner loop to make the computation run faster while having it still repeatedly compute the sum of the array elements. </p>
<p>The code that you should start with is <strong>~michael.trigoboff/cs201/a04/a04.c</strong> available on <strong>syccuxfs01.pcc.edu</strong>.</p>
<p><span style="font-style: italic">Do not write any assembly language for this assignment. You can achieve the speedup you need at the C code level. </span></p>
<p><u><em>Do not use</em></u><em> the optimization features of gcc. I will be compiling your code with all gcc optimizations turned off. Compile your code like this:</em></p>
<blockquote>
  <p class="code">gcc -m32 -std=gnu99 -Wall -g a04.c -o a04</p>
</blockquote>
<p><em>Remember that you need to do only <u>one</u> of the versions below</em>.</p>
<p><span style="font-style: italic">The &ldquo;Example&rdquo; page of the &ldquo;Optimization&rdquo; lesson demonstrates techniques that may be of use to you as you do this assignment</span>. </p>
<hr />
<h3><!-- #BeginLibraryItem "/Library/Regular.lbi" --> <strong>Regular</strong><!-- #EndLibraryItem --> Version </h3>
<p>Optimize the code in <strong>a04.c</strong> so that it runs in less than <span style="font-weight: bold">7.0</span> seconds.</p>
<p>Upload your work as file <strong>a04.c</strong>. </p>
<hr />
<h3><!-- #BeginLibraryItem "/Library/Premium.lbi" --> <strong>Premium</strong><!-- #EndLibraryItem --> Version</h3>
<p>Optimize the code in <strong>a04.c</strong> so that it runs in less than <strong>5.0</strong> seconds.</p>
<p>Upload your work as file <strong>a04.c</strong>. </p>
<hr />
<!-- InstanceEndEditable -->
<p class="header">Required Platform</p>
<p>I grade your code on  <strong>syccuxfs01.pcc.edu</strong>. Your code is required to compile and run correctly on that  machine.</p>
<p class="header">Compiling Your Code</p>
<p>You are required to use these flags when compiling your code:</p>
<blockquote>
<table width="571" border="0">
  <caption>
    Required gcc Compiler Flags
  </caption>
  <tr>
    <th width="103"><em>flag</em></th>
    <th width="411"><em>effect of specifying flag</em></th>
  </tr>
  <tr>
    <td>-<span class="code">m32</span></td>
    <td>compiles 32-bit code, disallows use of 64-bit integer registers</td>
  </tr>
  <tr>
    <td class="code">-std=gnu99</td>
    <td>allows use of newer features of C</td>
  </tr>
  <tr>
    <td class="code">-Wall</td>
    <td>compiler produces all possible warnings</td>
  </tr>
  <tr>
    <td class="code">-g</td>
    <td>includes information needed by debugger in object code</td>
  </tr>
</table>
</blockquote>
<p>Here is how you would use these flags:</p>
<blockquote>
  <p class="code">gcc -m32 -std=gnu99 -Wall -g yourcode.c -o yourcode</p>
</blockquote>
<p class="header">Grading Your Code</p>
<p>Your code needs to compile without errors or warnings and run correctly. Code that does not compile will receive zero points. Code that crashes will receive zero points.</p>
<p>I use <a href="https://en.wikipedia.org/wiki/Bash_(Unix_shell)" target="_blank">bash</a> scripts to grade your code. Because of this, it is very important that you submit your code <em>with the file name that was requested</em>. If you change the file name, my scripts will crash, your work will not be graded, you will have to resubmit a corrected version of your work, and you will lose points.</p>
<p>My scripts produce a log file containing your code, compiler warnings and errors (if any), your code's output, and some statistics that are useful to me. I then personally go through that log file to produce your grade. In other words, the scripts don't generate your grade, they just make it more convenient for <em>me</em> to generate your grade.</p>
<p class="header">To Submit This Assignment</p>
<p>Submit the requested file to Desire2Learn. &nbsp; Make sure that your code prints your name, assignment description, and number, as requested. </p>
<ul>
  <li>Be  certain to check that you completed the upload successfully. After you click  the Upload File button, you must also click the <strong>SUBMIT ASSIGNMENT </strong>button. This  is very easy to forget. If you do not do this, I will not see your work and you will get a grade of zero for the assignment. I would recommend entering an  email address so you can be notified that the upload was completed  successfully.</li>
  <li>You  may upload as many versions as you wish prior to the due date. I will only see  and grade the final one. You will not be able to upload assignments after due date.</li>
</ul>
<p>Points will be deducted for uploading a file with a name that is not as specified. Every term I get a few students whose approach to following directions is, shall we say, &ldquo;creative.&rdquo; I encourage creativity in general, but there are places where it is <u>not appropriate</u>.</p>
</body>
<!-- InstanceEnd --></html>
